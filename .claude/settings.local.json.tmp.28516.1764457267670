{
  "permissions": {
    "allow": [
      "Bash(pip freeze:*)",
      "Bash(requirements.txt)",
      "Bash(pip show:*)",
      "Bash(python3.11:*)",
      "Bash(py:*)",
      "Bash(source:*)",
      "Bash(pip install:*)",
      "Bash(.venv310/Scripts/python.exe:*)",
      "Bash(find:*)",
      "Bash(python:*)",
      "Bash(dir:*)",
      "Bash(cat:*)",
      "Bash(git checkout:*)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\":*)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c:*)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_fight_debug.py\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_train_debug.py\")",
      "Bash(timeout /T 30 /nobreak)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_fight_pools.py\")",
      "Bash(timeout /T 15 /nobreak)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(20)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(10)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(15)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_bot_trace.py\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(60)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(30)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\ai\\train.py\" --training-config debug --rewards-config SpaceMarine_Infantry_Troop_RangedSwarm --agent SpaceMarine_Infantry_Troop_RangedSwarm --scenario bot --new --total-episodes 3)",
      "Bash(findstr:*)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\ai\\train.py\" --training-config default --rewards-config SpaceMarine_Infantry_Troop_RangedSwarm --agent SpaceMarine_Infantry_Troop_RangedSwarm --scenario bot --new --total-episodes 10)",
      "Bash(chcp 65001)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -X utf8 -c:*)",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(120)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(90)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -c \"import time; time.sleep(45)\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_los_debug.py\")",
      "Bash(del \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_los_debug.py\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_los_runtime.py\" \"e:\\Dropbox\\Informatique\\Holberton\\40k\\test_los_full_episode.py\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -X utf8 -c \"\n# Test the actual validation flow\ncode = ''''''\nvalid_pool = [(1, 1), (2, 2)]\ndest_col, dest_row = 5, 5  # Invalid destination\n\nif (dest_col, dest_row) not in valid_pool:\n    pass  # Does nothing\n    print(''INSIDE if block - should return error'')\n    # return False, error\n\nprint(''AFTER if block - would continue to execute movement'')\n''''''\nexec(code)\n\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -X utf8 -c \"\nimport ast\n\ncode = ''''''\nif (dest_col, dest_row) not in valid_pool:\n    # Destination not reachable via BFS pathfinding\n    pass  # Validation will fail below\n        \n        # Show pool differences\n        # if len(valid_pool) != len(fresh_pool):\n            # print(f\"\"VALIDATION DEBUG: POOL SIZE MISMATCH - Original: {len(valid_pool)}, Fresh: {len(fresh_pool)}\"\")\n        \n        # if (dest_col, dest_row) in fresh_pool:\n            # print(f\"\"VALIDATION DEBUG: PATHFINDING BUG DETECTED - Destination valid in fresh pool but not original\"\")\n        # else:\n            # print(f\"\"VALIDATION DEBUG: AI SELECTION ERROR - Destination invalid in both pools\"\")\n    \n    return False, {\"\"error\"\": \"\"invalid_destination\"\", \"\"destination\"\": (dest_col, dest_row)}\n\nunit = _get_unit_by_id(game_state, unit_id)\n''''''\n\n# Check if this is valid Python syntax and trace the structure\ntry:\n    tree = ast.parse(code)\n    print(''Code parses successfully'')\n    \n    # Analyze the AST to understand the block structure\n    for node in ast.walk(tree):\n        if isinstance(node, ast.If):\n            print(f''If statement found with {len(node.body)} body statements'')\n            for i, stmt in enumerate(node.body):\n                print(f''  Body {i}: {type(stmt).__name__}'')\nexcept SyntaxError as e:\n    print(f''Syntax error: {e}'')\n\")",
      "Bash(\"e:\\Dropbox\\Informatique\\Holberton\\40k\\.venv310\\Scripts\\python.exe\" -X utf8 -c \"\nimport json\nfrom engine.phase_handlers import movement_handlers\n\n# Load scenario\nwith open(''config/agents/SpaceMarine_Infantry_Troop_RangedSwarm/scenarios/SpaceMarine_Infantry_Troop_RangedSwarm_scenario_bot-1.json'', ''r'') as f:\n    scenario = json.load(f)\n\nwall_hexes = set(map(tuple, scenario[''wall_hexes'']))\n\n# Simulate T2 state: Unit 1 at (23,7) after charging, Unit 6 still at (23,6)\ngame_state = {\n    ''board_cols'': 25,\n    ''board_rows'': 21,\n    ''wall_hexes'': wall_hexes,\n    ''units'': [\n        {''id'': ''unit_1'', ''col'': 23, ''row'': 7, ''player'': 0, ''HP_CUR'': 2, ''MOVE'': 6, ''CC_RNG'': 1},\n        {''id'': ''unit_6'', ''col'': 23, ''row'': 6, ''player'': 1, ''HP_CUR'': 2, ''MOVE'': 6, ''CC_RNG'': 1}\n    ]\n}\n\nprint(''=== T2 State Simulation ==='')\nprint(''Unit 1 (P0) at (23, 7) - wants to move'')\nprint(''Unit 6 (P1 enemy) at (23, 6)'')\nprint()\n\n# Check if start position is adjacent to enemy\nstart_pos = (23, 7)\nenemy_pos = (23, 6)\nneighbors_of_enemy = movement_handlers._get_hex_neighbors(23, 6)\nprint(f''Neighbors of enemy at (23,6): {neighbors_of_enemy}'')\nprint(f''Start pos (23,7) adjacent to enemy: {start_pos in neighbors_of_enemy}'')\nprint()\n\n# Build enemy adjacent hexes\nenemy_adjacent = movement_handlers._build_enemy_adjacent_hexes(game_state, 0)  # Player 0''s view\nprint(f''All hexes adjacent to enemies: {enemy_adjacent}'')\nprint(f''(23, 7) in enemy_adjacent: {(23, 7) in enemy_adjacent}'')\nprint(f''(23, 5) in enemy_adjacent: {(23, 5) in enemy_adjacent}'')\nprint()\n\n# Run BFS\nprint(''=== BFS Results ==='')\ndestinations = movement_handlers.movement_build_valid_destinations_pool(game_state, ''unit_1'')\nprint(f''Valid destinations count: {len(destinations)}'')\nprint(f''(23, 2) reachable: {(23, 2) in destinations}'')\n\n# Check what IS reachable\nif destinations:\n    print(f''Sample destinations: {destinations[:10]}'')\nelse:\n    print(''NO valid destinations!'')\n\")"
    ],
    "deny": [],
    "ask": []
  }
}
